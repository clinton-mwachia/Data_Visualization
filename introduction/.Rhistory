ggtitle('A Basic violin plot') +
xlab("")
mtcars %>%
ggplot(aes(x=as_factor(cyl),y=mpg)) +
geom_boxplot() +
xlab('the number of cylinders')
mtcars %>%
mutate(cyl = fct_reorder(cyl, mpg, .fun = 'median')) %>%
ggplot(aes(x=reorder(cyl, mpg),y=mpg, fill=cyl)) +
geom_boxplot() +
xlab("")
mtcars %>%
mutate(cyl = fct_reorder(cyl, mpg, .fun = 'median')) %>%
ggplot(aes(x=reorder(cyl, mpg),y=mpg, fill=cyl)) +
geom_boxplot() +
xlab("number of cylinders")
# reorder by the number of observations
mtcars %>%
mutate(cyl = fct_reorder(cyl, mpg, .fun = 'length')) %>%
ggplot(aes(x=reorder(cyl, mpg),y=mpg, fill=cyl)) +
geom_boxplot() +
xlab("number of cylinders")
# reorder by the number of observations
mtcars %>%
mutate(cyl = fct_reorder(cyl, mpg, .fun = 'length')) %>%
ggplot(aes(x=cyl,y=mpg, fill=cyl)) +
geom_boxplot() +
xlab("number of cylinders")
mtcars$cyl
mtcars$cyl
#specific order
mtcars %>%
mutate(cyl = fct_relevel(cyl, 6,4,8)) %>%
ggplot(aes(x=cyl,y=mpg)) +
geom_bar(stat = 'identity')
#specific order
mtcars %>%
mutate(cyl = fct_relevel(cyl, '6','4','8')) %>%
ggplot(aes(x=cyl,y=mpg)) +
geom_bar(stat = 'identity')
#specific order
mtcars %>%
mutate(cyl = fct_relevel(cyl, '4','6','8')) %>%
ggplot(aes(x=cyl,y=mpg)) +
geom_bar(stat = 'identity')
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = cyl)) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = cyl)) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
ggplot(aes(x=cyl, y=mpg))
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = c('4','6','8'))) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue')
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = c('4','6','8'))) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = c('8','4','6'))) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = c('4','8','6'))) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = c('6','8','4'))) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = c('8','6','4'))) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = fct_reorder(cyl, mpg)) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = c('4','6','8'))) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue')
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = fct_reorder(cyl, mpg)) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = c('4','6','8'))) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue')
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = c('8','6','4'))) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = c('4','6','8'))) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue')
# method 2: dplyr
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = c('8','6','4'))) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
mtcars %>%
arrange(mpg) %>% # arrange by mpg
mutate(cyl = factor(cyl, levels = c('4','6','8'))) %>%
ggplot(aes(x=cyl, y=mpg)) +
geom_segment(aes(xend=cyl, yend=0)) +
geom_point(size=4, color='blue')
library(readxl)
X20200824181129nan_data_sentiment <- read_excel("C:/Users/Acer/Downloads/20200824181129nan_data_sentiment.xlsx")
View(X20200824181129nan_data_sentiment)
# method 3: base R
mtcars$cyl <- with(mtcars, reorder(cyl, mpg, median))
mtcars %>%
ggplot(aes(x=cyl, y=mpg, fill=cyl)) +
geom_violin()
mtcars %>%
ggplot(aes(x=cyl, y=mpg, fill=cyl)) +
geom_violin() +
xlab('number of cyliners')
# highlight a specific group of interest
# cylinder 6
mtcars %>%
mutate(type = ifelse(cyl == 6, 'main','not main')) %>%
ggplot(aes(x=cyl,y=mpg, fill=type)) +
geom_boxplot()
# highlight a specific group of interest
# cylinder 6
mtcars %>%
mutate(type = ifelse(cyl == 6, 'main','not main')) %>%
ggplot(aes(x=cyl,y=mpg, fill=type)) +
geom_boxplot() +
scale_fill_manual(values = c('blue','grey'))
# highlight a specific group of interest
# cylinder 6
mtcars %>%
mutate(type = ifelse(cyl == 6, 'main','not main')) %>%
ggplot(aes(x=cyl,y=mpg, fill=type)) +
geom_boxplot(alpha=0.4) +
scale_fill_manual(values = c('blue','grey'))
levels(mtcars$gear)
levels(as.factor(mtcars$gear))
# grouped boxplot
# group by the number of gears
ggplot(mtcars, aes(x=cyl, y=mpg, fill=gear)) +
geom_boxplot()
# grouped boxplot
# group by the number of gears
ggplot(mtcars, aes(x=cyl, y=mpg, fill=gear)) +
geom_boxplot()
# grouped boxplot
# group by the number of gears
ggplot(mtcars, aes(x=cyl, y=mpg, fill=as_factor(gear))) +
geom_boxplot()
# grouped boxplot
# group by the number of gears
mtcars$cyl <- as_factor(mtcars$cyl)
mtcars$gear <- as_factor(mtcars$gear)
ggplot(mtcars, aes(x=cyl, y=mpg, fill=gear)) +
geom_boxplot()
# alternatively use facet wrap
ggplot(mtcars, aes(x=cyl, y=mpg, fill=gear)) +
geom_boxplot()
# alternatively use facet wrap
ggplot(mtcars, aes(x=cyl, y=mpg, fill=gear)) +
geom_boxplot() +
facet_wrap(~gear)
# alternatively use facet wrap
ggplot(mtcars, aes(x=cyl, y=mpg, fill=gear)) +
geom_boxplot() +
facet_wrap(~gear, scales = 'free')
# alternatively use facet wrap
ggplot(mtcars, aes(x=cyl, y=mpg, fill=gear)) +
geom_boxplot() +
facet_wrap(~gear)
# add mean
ggplot(mtcars, aes(x=cyl, y=mpg, fill=gear)) +
geom_boxplot() +
stat_summary(fun.y = mean)
# add mean
ggplot(mtcars, aes(x=cyl, y=mpg, fill=gear)) +
geom_boxplot() +
stat_summary(fun.y = mean, geom='point',color='red')
# add mean
ggplot(mtcars, aes(x=cyl, y=mpg, fill=gear)) +
geom_boxplot() +
stat_summary(fun = mean, geom='point',color='red')
# add mean
ggplot(mtcars, aes(x=cyl, y=mpg, fill=gear)) +
geom_boxplot() +
stat_summary(fun = mean, geom='point',color='red')
# add mean
ggplot(mtcars, aes(x=cyl, y=mpg, fill=cyl)) +
geom_boxplot() +
stat_summary(fun = mean, geom='point',color='red')
# add mean
ggplot(mtcars, aes(x=cyl, y=mpg, fill=cyl)) +
geom_boxplot() +
stat_summary(fun = mean, geom='point',color='red', size=6)
# add mean
ggplot(mtcars, aes(x=cyl, y=mpg, fill=cyl)) +
geom_boxplot() +
stat_summary(fun = mean, geom='point',color='red', size=4)
# adding individual data points to the boxplot
ggplot(mtcars, aes(x=cyl, y=mpg, fill=cyl)) +
geom_boxplot() +
geom_jitter(color='black')
library(tidyverse)
data('iris', 'mtcars')
View(iris)
View(mtcars)
# box plots
iris %>%
ggplot(aes(x=Species,y=Sepal.Length)) +
geom_boxplot()
# box plots
iris %>%
ggplot(aes(x=Species,y=Sepal.Length, fill=Species)) +
geom_boxplot() +
ggtitle('A basic boxplot')
iris %>%
ggplot(aes(x=Species,y=Petal.Length, fill=Species)) +
geom_boxplot() +
ggtitle('A basic boxplot')
mtcars %>%
ggplot(aes(x=cyl,y=mpg)) +
geom_boxplot()
mtcars %>%
ggplot(aes(x=as_factor(cyl),y=mpg)) +
geom_boxplot()
str(mtcars)
mtcars %>%
ggplot(aes(x=as_factor(cyl),y=mpg, fill=as_factor(cyl))) +
geom_boxplot()
mtcars %>%
ggplot(aes(x=as_factor(cyl),y=mpg, fill=as_factor(cyl))) +
geom_boxplot() +
xlab('the number of cylinders')
# violin plot
iris %>%
ggplot(aes(x=Species,y=Petal.Length, fill=Species)) +
geom_violin() +
ggtitle('A basic violin plot')
mtcars %>%
ggplot(aes(x=as_factor(cyl),y=mpg, fill=as_factor(cyl))) +
geom_violin() +
xlab('the number of cylinders')
# customize the basic plots
iris %>%
ggplot(aes(x=Species,y=Petal.Length, fill=Species)) +
geom_boxplot(
) +
ggtitle('A basic boxplot')
# customize the basic plots
iris %>%
ggplot(aes(x=Species,y=Petal.Length)) +
geom_boxplot(
color='blue',
fill='blue',
alpha=0.3,
outlier.colour = 'red',
outlier.fill = 'red',
outlier.size = 3
) +
ggtitle('A basic boxplot')
mtcars %>%
ggplot(aes(x=as_factor(cyl),y=mpg, fill=as_factor(cyl))) +
geom_boxplot(
color='blue',
fill='blue',
alpha=0.3,
outlier.colour = 'red',
outlier.fill = 'red',
outlier.size = 3
) +
xlab('the number of cylinders')
mtcars %>%
ggplot(aes(x=as_factor(cyl),y=mpg)) +
geom_boxplot(
color='blue',
fill='blue',
alpha=0.3,
outlier.colour = 'red',
outlier.fill = 'red',
outlier.size = 3
) +
xlab('the number of cylinders')
library(tidyverse)
# reorder your factors
# median
str(mtcars)
mtcars$cyl <- as_factor(mtcars$cyl)
mtcars %>%
mutate(cyl = fct_reorder(cyl, mpg, .fun = 'median')) %>%
ggplot(aes(x=reorder(cyl),y=mpg,fill=cyl)) +
geom_boxplot()
mtcars %>%
mutate(cyl = fct_reorder(cyl, mpg, .fun = 'median')) %>%
ggplot(aes(x=reorder(cyl,mpg),y=mpg,fill=cyl)) +
geom_boxplot()
mtcars %>%
ggplot(aes(x=as_factor(cyl),y=mpg)) +
geom_boxplot(
color='blue',
fill='blue',
alpha=0.3,
outlier.colour = 'red',
outlier.fill = 'red',
outlier.size = 3
) +
xlab('the number of cylinders')
mtcars %>%
mutate(cyl = fct_reorder(cyl, mpg, .fun = 'median')) %>%
ggplot(aes(x=reorder(cyl,mpg),y=mpg,fill=cyl)) +
geom_boxplot()
mtcars %>%
mutate(cyl = fct_reorder(cyl, mpg, .fun = 'median')) %>%
ggplot(aes(x=reorder(cyl,mpg),y=mpg,fill=cyl)) +
geom_boxplot() +
xlab('number of cyliners')
mtcars %>%
mutate(cyl = fct_reorder(cyl, mpg, .fun = 'length')) %>%
ggplot(aes(x=reorder(cyl,mpg),y=mpg,fill=cyl)) +
geom_boxplot() +
xlab('number of cyliners')
table(mtcars$cyl)
# specific order
# forcats
mtcars %>%
mutate(cyl = fct_relevel(cyl, '4','6','8')) %>%
ggplot(aes(x=cyl,y=mpg)) +
geom_bar(stat='identity')
# specific order
# forcats
mtcars %>%
mutate(cyl = fct_relevel(cyl, '6','4','8')) %>%
ggplot(aes(x=cyl,y=mpg)) +
geom_bar(stat='identity')
# dplyr
mtcars %>%
arrange(mpg) %>%
mutate(cyl = factor(cyl, levels = c('8','6','4'))) %>%
ggplot(aes(x=cyl,y=mpg)) +
geom_segment(aes(xend=cyl,yend=0)) +
geom_point(size=4, color='blue') +
coord_flip()
mtcars %>%
arrange(mpg) %>%
mutate(cyl = factor(cyl, levels = c('8','6','4'))) %>%
ggplot(aes(x=cyl,y=mpg)) +
geom_segment(aes(xend=cyl,yend=0)) +
geom_point(size=4, color='blue')
mtcars %>%
arrange(mpg) %>%
mutate(cyl = factor(cyl, levels = c('4','6','8'))) %>%
ggplot(aes(x=cyl,y=mpg)) +
geom_segment(aes(xend=cyl,yend=0)) +
geom_point(size=4, color='blue')
# base r
mtcars$cyl <- with(mtcars, reorder(cyl, mpg, median))
mtcars %>%
ggplot(aes(x=cyl,y=mpg,fill=cyl)) +
geom_violin()
mtcars %>%
ggplot(aes(x=cyl,y=mpg,fill=cyl)) +
geom_violin() +
xlab('number of cylinders')
library(tidyverse)
data('iris', 'mtcars')
mtcars %>%
ggplot(aes(x=cyl,y=mpg,fill=cyl)) +
geom_violin() +
xlab('number of cylinders')
mtcars %>%
arrange(mpg) %>%
mutate(cyl = factor(cyl, levels = c('4','6','8'))) %>%
ggplot(aes(x=cyl,y=mpg)) +
geom_segment(aes(xend=cyl,yend=0)) +
geom_point(size=4, color='blue')
# order according to the number f observations
mtcars %>%
mutate(cyl = fct_reorder(cyl, mpg, .fun = 'length')) %>%
ggplot(aes(x=reorder(cyl,mpg),y=mpg,fill=cyl)) +
geom_boxplot() +
xlab('number of cyliners')
# order according to the number f observations
mtcars %>%
mutate(cyl = fct_reorder(cyl, mpg, .fun = 'length')) %>%
ggplot(aes(x=reorder(cyl,mpg),y=mpg,fill=cyl)) +
geom_boxplot() +
xlab('number of cyliners')
mtcars %>%
ggplot(aes(x=as_factor(cyl),y=mpg, fill=as_factor(cyl))) +
geom_boxplot() +
xlab('the number of cylinders')
mtcars %>%
mutate(type = ifelse(cyl == 6, 'main','not main')) %>%
ggplot(aes(x=cyl,y=mpg,fill=type)) +
geom_boxplot(alpha=0.4) +
scale_fill_manual(values = c('blue','grey'))
# grouped box plot
str(mtcars)
mtcars$cyl <- as_factor(mtcars$cyl)
mtcars$gear <- as_factor(mtcars$gear)
ggplot(data = mtcars, aes(x=cyl,y=mpg,fill=gear)) +
geom_boxplot()
# facet wrap
ggplot(data = mtcars, aes(x=cyl,y=mpg,fill=gear)) +
geom_boxplot() +
facet_wrap(~gear)
# facet wrap
ggplot(data = mtcars, aes(x=cyl,y=mpg)) +
geom_boxplot() +
facet_wrap(~gear)
table(mtcars$gear)
# facet wrap
ggplot(data = mtcars, aes(x=cyl,y=mpg, fill=gear)) +
geom_boxplot() +
facet_wrap(~gear)
# add mean
ggplot(data = mtcars, aes(x=cyl,y=mpg,fill=cyl)) +
geom_boxplot() +
stat_summary(
fun = mean,
geom='point',
color='red',
size=3
)
# jitters
ggplot(data = mtcars, aes(x=cyl,y=mpg, fill=gear)) +
geom_boxplot() +
geom_jitter(color='black')
